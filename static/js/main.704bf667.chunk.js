(this["webpackJsonpagile-poker"]=this["webpackJsonpagile-poker"]||[]).push([[0],{105:function(e,a,t){},106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),o=(t(91),t(92),t(93),t(146)),i=t(16),s=t(161),u=t(145),m=t(143),f=t(155),p=t(63),E=t.n(p),d=t(141),v=t(110),g=t(139),h=Object(g.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function b(){var e=r.a.useState(void 0),a=Object(i.a)(e,2),t=a[0],n=a[1],l=h();return r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:l.paper},r.a.createElement(s.a,{className:l.avatar},r.a.createElement(E.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Agile Poker Table"),r.a.createElement("form",{className:l.form,onSubmit:function(){t&&sessionStorage.setItem("agilePokerUserName",t)},noValidate:!0},r.a.createElement(f.a,{variant:"outlined",margin:"normal",required:!0,onChange:function(e){n(e.target.value)},fullWidth:!0,id:"email",label:"Email Address",name:"userName",autoComplete:"email",autoFocus:!0}),r.a.createElement(u.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit},"Enter"))))}function k(){return r.a.createElement("div",null,r.a.createElement(b,null))}var y=t(148),N=t(149),O=t(147),C=t(64),j=t(65),w=t(46),S=t(72),x=t(73),I=t(158),P=(t(98),t(66)),B=t.n(P),T=function(e){Object(x.a)(t,e);var a=Object(S.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).state={value:{storyPoint:n.props.value,style:n.props.style}},n.getDisplayableValue=function(){return"Infinity"!==n.state.value.storyPoint?n.state.value.storyPoint:r.a.createElement(I.a.Img,{variant:"center",src:B.a,alt:"Infinity"})},n.onClick=function(e){n.props.onClick(e)},n.onClick=n.onClick.bind(Object(w.a)(n)),n}return Object(j.a)(t,[{key:"render",value:function(){var e=this,a=this.getDisplayableValue(),t=this.state.value;return r.a.createElement("div",null,r.a.createElement(I.a,{style:t.style,className:"m-1 pokerCard",id:t.storyPoint,onClick:function(){return e.onClick(t.storyPoint)}},r.a.createElement(I.a.Body,null,r.a.createElement("h4",null,a))))}}]),t}(n.Component),U=(r.a.createContext(null),t(47)),D=(t(99),t(101),{apiKey:"AIzaSyB7eDqSi97maZL5LjOSBrnbRUrqDVOKuVw",authDomain:"agile-poker-sk.firebaseapp.com",databaseURL:"https://agile-poker-sk.firebaseio.com",projectId:"agile-poker-sk",storageBucket:"agile-poker-sk.appspot.com",messagingSenderId:"243041283381",appId:"1:243041283381:web:59f749904068703030307c",measurementId:"G-PLT1CHSW9K"});U.initializeApp(D);U.auth;var W=U.firestore();function _(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(void 0),s=Object(i.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)((function(){var e=W.collection("points").onSnapshot((function(e){var a=e.docs.map((function(e){return e.data().numeric}));l(a[0])}));return function(){e()}}),[]);var f=function(e){m(e),l([e])};return r.a.createElement(o.a,null,r.a.createElement(O.a,{style:{flexDirection:"row",marginTop:"10px"}},function(){var e=[];return t.sort((function(e,a){return e-a})).forEach((function(a){var t;e.push(r.a.createElement(T,{key:a,value:a,style:(t=a,{width:"10rem",height:"15em",disabled:u!==t}),onClick:f}))})),e}()))}function A(){return r.a.createElement("div",null,r.a.createElement(_,null))}var L=t(159),M=function(){return sessionStorage.getItem("agilePokerUserName")||""},V=t(67),q=t.n(V),K=t(68),R=t.n(K);t(105);function z(e){var a=e.team,t=Object(n.useState)([]),l=Object(i.a)(t,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){var e=[],t=W.collection("users").onSnapshot((function(t){t.docs.map((function(e){return e.data()})).filter((function(e){return e.team.toUpperCase()===a})).forEach((function(a){e.push(a)})),(!c&&e||!function(e,a){if(e.length!==a.length)return!1;var t=!0;return e.forEach((function(e){a.forEach((function(a){var n=!0;e.userName===a.userName&&((n=n&&a.isOnline===e.isOnline)||console.log("isOnline"," ",a.isOnline," ",e.isOnline)),t=t&&n}))})),t}(c,e))&&(console.log(c,"=>",e),o(e))}));return function(){t()}}),[c]),r.a.createElement("div",null,c.filter((function(e){return e.isActive&&e.team.toUpperCase()===a})).slice(0,7).map((function(e){return r.a.createElement(F,{key:e.userName,usr:e})})))}function F(e){var a=e.usr;return r.a.createElement("div",{className:"teamMember"},r.a.createElement("div",{className:"teamMember__details"},r.a.createElement("p",null,a.userName.toUpperCase()),r.a.createElement("span",null,a.isOnline?r.a.createElement(q.a,{className:"teamMember__online"}):r.a.createElement(R.a,{className:"teamMember__offline"}))))}t(106);var G=function(e){var a=e.className,t=M(),l=Object(n.useState)(void 0),c=Object(i.a)(l,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){var e=void 0;W.collection("users").get().then((function(a){a.forEach((function(a){console.log(a.id," => ",a.data()),o||a.id!==t||(e=a.data().team.toUpperCase())}))})).then((function(){return!o&&s(e)}))}),[o]),r.a.createElement("div",null,o&&r.a.createElement("div",{className:"team"},r.a.createElement("div",{className:"team__title"},r.a.createElement("h5",{className:a},"".concat(o.toUpperCase()))),r.a.createElement(z,{team:o})))},J=(t(107),{border:"none"});function H(e){var a=e.userName;return r.a.createElement("div",null,r.a.createElement(o.a,null,r.a.createElement(I.a,{className:"rightCard",style:J},r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,{className:"title"},"Poker"),r.a.createElement(I.a.Text,{className:"text"},a),r.a.createElement("p",{className:"text"},"Scrum Master"),r.a.createElement(L.a,{block:!0,onClick:function(){window.location.href="".concat("/agile-poker","/")},variant:"Link"},"Reset"))),r.a.createElement(I.a,{className:"rightCard teamCard",style:J},r.a.createElement(I.a.Body,null,r.a.createElement(G,{className:"title"})))))}var Y=function(e){var a=e.userName;return r.a.createElement(y.a,null,r.a.createElement(N.a,{xs:8},r.a.createElement(A,null)),r.a.createElement(N.a,{xs:"auto"},r.a.createElement(H,{userName:a})))};function Z(){var e=M();return r.a.createElement("div",null,!e&&r.a.createElement(k,null),e&&r.a.createElement(o.a,{fluid:"md",className:"ml-6 p-1 flex-fill justify-content-center"},r.a.createElement(Y,{userName:e})))}var $=t(156),Q=t(150);function X(){return r.a.createElement(v.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Q.a,{color:"inherit",href:"https://github.com/saurabhpro/"},"Saurabh")," ",(new Date).getFullYear(),".")}var ee=t(151),ae=t(152),te=t(160),ne=t(153),re=t(154),le=t(70),ce=t.n(le),oe=t(71),ie=t.n(oe),se=Object(g.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap",backgroundColor:"white"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},fab:{height:"3em",width:"3em"}}})),ue=function(){var e=se(),a=r.a.useState(M()),t=Object(i.a)(a,2),n=t[0],l=t[1],c=!!n;return r.a.createElement("div",null,r.a.createElement(ee.a,{position:"static",color:"default",elevation:0,className:e.appBar},r.a.createElement(ae.a,{className:e.toolbar},r.a.createElement(v.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle},"Agile Poker"),r.a.createElement("nav",null),c&&r.a.createElement("div",null," ",r.a.createElement(te.a,{title:"Profile",arrow:!0},r.a.createElement(ne.a,null,r.a.createElement(re.a,{color:"primary",className:e.fab},r.a.createElement(ce.a,null)))),r.a.createElement(te.a,{title:"Logout",arrow:!0},r.a.createElement(ne.a,{href:"".concat("/agile-poker","/"),onClick:function(){return l(void 0),void sessionStorage.clear()}},r.a.createElement(re.a,{color:"secondary",className:e.fab},r.a.createElement(ie.a,null))))))))},me=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(ue,null)),r.a.createElement(Z,null),r.a.createElement("footer",null,r.a.createElement($.a,{mt:8},r.a.createElement(X,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,a,t){e.exports=t.p+"static/media/infinity.cf7b1a96.svg"},86:function(e,a,t){e.exports=t(108)},91:function(e,a,t){},92:function(e,a,t){},98:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.704bf667.chunk.js.map