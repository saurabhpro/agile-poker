(this["webpackJsonpagile-poker"]=this["webpackJsonpagile-poker"]||[]).push([[0],{105:function(e,a,t){},106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(9),c=t.n(l),o=(t(91),t(92),t(93),t(16)),i=t(160),s=t(145),m=t(143),u=t(154),f=t(63),p=t.n(f),d=t(141),E=t(110),v=t(139),g=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function h(){var e=r.a.useState(void 0),a=Object(o.a)(e,2),t=a[0],n=a[1],l=g();return r.a.createElement(d.a,{component:"main",maxWidth:"xs"},r.a.createElement(m.a,null),r.a.createElement("div",{className:l.paper},r.a.createElement(i.a,{className:l.avatar},r.a.createElement(p.a,null)),r.a.createElement(E.a,{component:"h1",variant:"h5"},"Agile Poker Table"),r.a.createElement("form",{className:l.form,onSubmit:function(){t&&sessionStorage.setItem("agilePokerUserName",t)},noValidate:!0},r.a.createElement(u.a,{variant:"outlined",margin:"normal",required:!0,onChange:function(e){n(e.target.value)},fullWidth:!0,id:"email",label:"Email Address",name:"userName",autoComplete:"email",autoFocus:!0}),r.a.createElement(s.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:l.submit},"Enter"))))}function b(){return r.a.createElement("div",null,r.a.createElement(h,null))}var k=t(148),y=t(146),N=t(64),O=t(65),C=t(46),j=t(72),w=t(73),S=t(157),x=(t(98),t(66)),B=t.n(x),I=function(e){Object(w.a)(t,e);var a=Object(j.a)(t);function t(e){var n;return Object(N.a)(this,t),(n=a.call(this,e)).state={value:{storyPoint:n.props.value,style:n.props.style}},n.getDisplayableValue=function(){return"Infinity"!==n.state.value.storyPoint?n.state.value.storyPoint:r.a.createElement(S.a.Img,{variant:"center",src:B.a,alt:"Infinity"})},n.onClick=function(e){n.props.onClick(e)},n.onClick=n.onClick.bind(Object(C.a)(n)),n}return Object(O.a)(t,[{key:"render",value:function(){var e=this,a=this.getDisplayableValue(),t=this.state.value;return r.a.createElement("div",null,r.a.createElement(S.a,{style:t.style,className:"m-1 pokerCard",id:t.storyPoint,onClick:function(){return e.onClick(t.storyPoint)}},r.a.createElement(S.a.Body,null,r.a.createElement("h4",null,a))))}}]),t}(n.Component),P=(r.a.createContext(null),t(47)),T=(t(99),t(101),{apiKey:"AIzaSyB7eDqSi97maZL5LjOSBrnbRUrqDVOKuVw",authDomain:"agile-poker-sk.firebaseapp.com",databaseURL:"https://agile-poker-sk.firebaseio.com",projectId:"agile-poker-sk",storageBucket:"agile-poker-sk.appspot.com",messagingSenderId:"243041283381",appId:"1:243041283381:web:59f749904068703030307c",measurementId:"G-PLT1CHSW9K"});P.initializeApp(T);P.auth;var U=P.firestore();function D(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(void 0),i=Object(o.a)(c,2),s=i[0],m=i[1];Object(n.useEffect)((function(){var e=U.collection("points").onSnapshot((function(e){var a=e.docs.map((function(e){return e.data().numeric}));l(a[0])}));return function(){e()}}),[]);var u=function(e){m(e),l([e])};return r.a.createElement(y.a,{style:{flexDirection:"row",marginTop:"10px",marginBottom:"20px"}},function(){var e=[];return t.sort((function(e,a){return e-a})).forEach((function(a){var t;e.push(r.a.createElement(I,{key:a,value:a,style:(t=a,{width:"10rem",height:"15em",disabled:s!==t}),onClick:u}))})),e}())}function W(){return r.a.createElement("div",null,r.a.createElement(D,null))}var _=t(159),A=t(147),L=function(){return sessionStorage.getItem("agilePokerUserName")||""},M=t(68),V=t.n(M),q=t(69),G=t.n(q),K=t(158);t(105);function R(e){var a=e.team,t=Object(n.useState)([]),l=Object(o.a)(t,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){var e=[],t=U.collection("users").onSnapshot((function(t){t.docs.map((function(e){return e.data()})).filter((function(e){return e.team.toUpperCase()===a})).forEach((function(a){e.push(a)})),(!c&&e||!function(e,a){if(e.length!==a.length)return!1;var t=!0;return e.forEach((function(e){a.forEach((function(a){var n=!0;e.userName===a.userName&&((n=n&&a.isOnline===e.isOnline)||console.log("isOnline"," ",a.isOnline," ",e.isOnline)),t=t&&n}))})),t}(c,e))&&(console.log(c,"=>",e),i(e))}));return function(){t()}}),[c]),r.a.createElement("div",null,c.filter((function(e){return e.isActive&&e.team.toUpperCase()===a})).slice(0,7).map((function(e){return r.a.createElement(z,{key:e.userName,usr:e})})))}function z(e){var a=e.usr;return r.a.createElement("div",{className:"teamMember"},r.a.createElement("div",{className:"teamMember__details"},r.a.createElement("p",null,a.userName.toUpperCase()),r.a.createElement("span",null,a.isOnline?r.a.createElement(K.a,{title:"connected",placement:"right-start"},r.a.createElement(V.a,{className:"teamMember__online"})):r.a.createElement(K.a,{title:"offline",placement:"right-start"},r.a.createElement(G.a,{className:"teamMember__offline"})))))}t(106);var F=function(e){var a=e.className,t=L(),l=Object(n.useState)(void 0),c=Object(o.a)(l,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){var e=void 0;U.collection("users").get().then((function(a){a.forEach((function(a){console.log(a.id," => ",a.data()),i||a.id!==t||(e=a.data().team.toUpperCase())}))})).then((function(){return!i&&s(e)}))}),[i]),r.a.createElement("div",null,i&&r.a.createElement("div",{className:"team"},r.a.createElement("div",{className:"team__title"},r.a.createElement("h5",{className:a},"".concat(i.toUpperCase()))),r.a.createElement(R,{team:i})))},J=(t(107),{border:"none"});function H(e){var a=e.userName;return r.a.createElement("div",null,r.a.createElement(A.a,null,r.a.createElement(S.a,{className:"rightCard",style:J},r.a.createElement(S.a.Body,null,r.a.createElement(S.a.Title,{className:"title"},"Poker"),r.a.createElement(S.a.Text,{className:"text"},a),r.a.createElement("p",{className:"text"},"Scrum Master"),r.a.createElement(_.a,{block:!0,onClick:function(){window.location.href="".concat("/agile-poker","/")},variant:"Link"},"Reset"))),r.a.createElement(S.a,{className:"rightCard teamCard",style:J},r.a.createElement(S.a.Body,null,r.a.createElement(F,{className:"title"})))))}var Y=function(e){var a=e.userName;return r.a.createElement("div",{className:"container-md content-justify-center-sm",style:{flexGrow:3}},r.a.createElement(k.a,null,r.a.createElement("div",{class:"col-sm-9"},r.a.createElement(W,null)),r.a.createElement("div",{class:"col-md"},r.a.createElement(H,{userName:a}))))};function Z(){var e=L();return r.a.createElement("div",null,!e&&r.a.createElement(b,null),e&&r.a.createElement("div",null,r.a.createElement(Y,{userName:e})))}var $=t(155),Q=t(149);function X(){return r.a.createElement(E.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(Q.a,{color:"inherit",href:"https://github.com/saurabhpro/"},"Saurabh")," ",(new Date).getFullYear(),".")}var ee=t(150),ae=t(151),te=t(152),ne=t(153),re=t(70),le=t.n(re),ce=t(71),oe=t.n(ce),ie=Object(v.a)((function(e){return{"@global":{ul:{margin:0,padding:0,listStyle:"none"}},appBar:{borderBottom:"1px solid ".concat(e.palette.divider)},toolbar:{flexWrap:"wrap",backgroundColor:"white"},toolbarTitle:{flexGrow:1},link:{margin:e.spacing(1,1.5)},fab:{height:"3em",width:"3em"}}})),se=function(){var e=ie(),a=r.a.useState(L()),t=Object(o.a)(a,2),n=t[0],l=t[1],c=!!n;return r.a.createElement("div",null,r.a.createElement(ee.a,{position:"static",color:"default",elevation:0,className:e.appBar},r.a.createElement(ae.a,{className:e.toolbar},r.a.createElement(E.a,{variant:"h6",color:"inherit",noWrap:!0,className:e.toolbarTitle},"Agile Poker"),r.a.createElement("nav",null),c&&r.a.createElement("div",null," ",r.a.createElement(K.a,{title:"Profile",arrow:!0},r.a.createElement(te.a,null,r.a.createElement(ne.a,{color:"primary",className:e.fab},r.a.createElement(le.a,null)))),r.a.createElement(K.a,{title:"Logout",arrow:!0},r.a.createElement(te.a,{href:"".concat("/agile-poker","/"),onClick:function(){return l(void 0),void sessionStorage.clear()}},r.a.createElement(ne.a,{color:"secondary",className:e.fab},r.a.createElement(oe.a,null))))))))},me=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(se,null)),r.a.createElement(Z,null),r.a.createElement("footer",null,r.a.createElement($.a,{mt:8},r.a.createElement(X,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,a,t){e.exports=t.p+"static/media/infinity.cf7b1a96.svg"},86:function(e,a,t){e.exports=t(108)},91:function(e,a,t){},92:function(e,a,t){},98:function(e,a,t){}},[[86,1,2]]]);
//# sourceMappingURL=main.b59d054f.chunk.js.map